# ---------------------------------------------------------------------
# Í∏∞Î≥∏ ÏÑ§Ï†ï
# ---------------------------------------------------------------------
spring.application.name=StepByStep_BE

# .env ÌååÏùº import (Î£®Ìä∏Ïóê .env ÏûàÏúºÎ©¥ ÏûêÎèô Î°úÎìú)
spring.config.import=optional:file:.env[.properties]

# ---------------------------------------------------------------------
# DB Ïó∞Í≤∞ (ÌôòÍ≤ΩÎ≥ÄÏàò Î∞©Ïãù + Í∏∞Î≥∏Í∞í Î≥¥Ï°∞)
# ---------------------------------------------------------------------
spring.datasource.url=${DB_URL:jdbc:mysql://localhost:3306/stepbystep?useSSL=false&useUnicode=true&characterEncoding=utf8&serverTimezone=Asia/Seoul}
spring.datasource.username=${DB_USERNAME:root}
spring.datasource.password=${DB_PASSWORD:password}
spring.datasource.driver-class-name=${DB_DRIVER:com.mysql.cj.jdbc.Driver}

# ---------------------------------------------------------------------
# JPA ÏÑ§Ï†ï
# ---------------------------------------------------------------------
spring.jpa.hibernate.ddl-auto=${JPA_DDL_AUTO:update}
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect

# Jackson ÎÇ†Ïßú ÏßÅÎ†¨Ìôî ÏòµÏÖò (timestamp -> ISO Î¨∏ÏûêÏó¥)
spring.jackson.serialization.WRITE_DATES_AS_TIMESTAMPS=false

# ---------------------------------------------------------------------
# ÏÑúÎ≤Ñ Ìè¨Ìä∏
# ---------------------------------------------------------------------
server.port=${SERVER_PORT:5000}

# ---------------------------------------------------------------------
# Î©îÏùº ÏÑ§Ï†ï
# ---------------------------------------------------------------------
spring.mail.host=${MAIL_HOST}
spring.mail.port=${MAIL_PORT}
spring.mail.username=${MAIL_USERNAME}
spring.mail.password=${MAIL_PASSWORD}
spring.mail.properties.mail.smtp.auth=${MAIL_SMTP_AUTH:true}
spring.mail.properties.mail.smtp.starttls.enable=${MAIL_SMTP_STARTTLS:true}

# ---------------------------------------------------------------------
# üîê ÏûÑÏãú ÎπÑÎ∞ÄÎ≤àÌò∏ Í¥ÄÎ†®
# ---------------------------------------------------------------------
app.auth.temp-password-expiration-minutes=${TEMP_PASSWORD_EXPIRATION_MINUTES:15}
app.auth.temp-password-length=${TEMP_PASSWORD_LENGTH:8}

# ---------------------------------------------------------------------
# ü§ñ FastAPI (AI ÏÑúÎ≤Ñ) Ïó∞Îèô ÏÑ§Ï†ï
# ---------------------------------------------------------------------
ai.base-url=${AI_BASE_URL:http://127.0.0.1:8000}

# ÌÉÄÏûÑÏïÑÏõÉ (ms)
ai.connect-timeout-ms=${AI_CONNECT_TIMEOUT_MS:2000}
ai.response-timeout-ms=${AI_RESPONSE_TIMEOUT_MS:10000}
ai.read-timeout-ms=${AI_READ_TIMEOUT_MS:10000}
ai.write-timeout-ms=${AI_WRITE_TIMEOUT_MS:10000}

# Î≤ÑÌçº/Î©îÎ™®Î¶¨
ai.max-in-memory-mb=${AI_MAX_IN_MEMORY_MB:10}

# Ïª§ÎÑ•ÏÖò ÌíÄ
ai.max-connections=${AI_MAX_CONNECTIONS:200}
ai.pending-acquire-timeout-ms=${AI_PENDING_ACQUIRE_TIMEOUT_MS:2000}
ai.evict-in-idle-min=${AI_EVICT_IN_IDLE_MIN:5}